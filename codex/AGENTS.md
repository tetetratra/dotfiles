- まずは @~/.claude_local.md を参照してください。続いて下記の指示にも従ってください

## フォーマットについて
- 質問への回答やコードコメント、コミットメッセージなどは日本語で書いてください

## 作業内容について
- 実装を指示するまでコードに変更を加えないでください
  - たとえば「〇〇はできますか? 」という質問をされたとき、その実装までしないでください
- 解決策に対しては、そのソース(URLなど)を提示してください。推測である場合は、推測である旨を明記してください
- 指示がない限りgit push等の、ローカルPC環境以外に影響を与える操作は行わないでください

## 思考プロセスについて
- 指示した事柄に対して、他に良い案があるかを考え、あった場合は指示の実行前にそれを提案してください
- 指示に対して調査や実装をする前に、不足している情報があればそれを質問してください
- 大きなファイルであってもコードの全体を読むようにしてください

## その他
- リポジトリによっては tmp/investigations/ 配下に、機能の調査結果をまとめたドキュメントが置いてあることがあるので、そちらも参照してください

## サブエージェントの使用方法

あなたは Codex CLI の内部で動作しています。
下記の手順で、「サブエージェント」を使用してタスクを分散処理できます。
**ユーザーから指示・許可があった場合のみ**、以下の方法でサブエージェントを活用してください。

追加のヘッドレス Codex インスタンス（「サブエージェント」）を起動して、個別または並列にタスクを実行する必要があります。
以下のポイントを念頭に置いてください:

1. サブエージェントは `codex --yolo exec "your prompt"` で起動します。シェルに解釈されうるものは必ずクォート／エスケープしてください（エスケープされていないバッククォートや `$()` は避けること）。
2. シェルツール呼び出し経由でサブエージェントを起動する場合、各実行が最大 30 分まで動作できるように、ラッパーのタイムアウトを上書きしてください（例：`timeout_ms: 1800000`）。
3. 並列実行はバックグラウンドジョブ（`& … & wait`）で開始できますが、複合コマンド全体がタイムアウトを超えた場合、ラッパーが終了コード 124 を返す可能性があります。各サブエージェントのログを確認し、完了しているかどうかを必ず確認してください。
4. サブエージェントのセッションは CLI のデフォルト設定（例：承認ポリシー、サンドボックスモードが読み取り専用のまま表示されるなど）を継承します。そのため、この前提でプロンプトを設計し、可能な限り軽量なプロンプトに保ってください。
5. `codex resume <SESSION_ID>` を使用して、特定のセッションを再開できます。セッション ID はサブエージェントのログに記録されます。

