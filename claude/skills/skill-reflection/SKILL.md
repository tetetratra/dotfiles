---
name: skill-reflection
description: 現在リポジトリに配置されているスキルを改善するためのスキル。明示的に使用指示があった場合のみ使ってください。
---

## 目的
このスキルは、明示的にskill-reflectionスキルの使用指示があった場合のみ使ってください。

自身の作業を振り返り、リポジトリに配置されているclaudeスキルを改善します。
claudeスキルの改善により、次回以降の開発の効率化を目指します。

## 手順

[重要] このスキルを、Claude Codeのhookシステムから発火された指示によって実行している場合、この作業においてユーザーに質問することはできません。

- 今回のこれまでの会話において `/task` カスタムコマンドが呼び出され、それに従ってタスクを進めましたか？
  `/task` カスタムコマンドが使われていない場合は、特に何もする必要はありません。そのまま終了してください

- 続いて、タスクの進行において行った作業を次の観点で振り返り、「スキルの改善候補」を検討してください（無い場合は無理に列挙する必要はありません）
  - システムに関して勘違いをしたり、誤った情報を提供してしまったことはありましたか？
  - システムの理解をする上で、情報がまとめられておらず、調査に苦労した知識や手順はありましたか？
  - スキルを使う上で、スキルに記載されている情報が誤っていたことはありましたか？
  - スキルを使う上で、スキルに記載の手順とは異なる手順を踏む必要があったことはありましたか？
  - 定型的な手順を踏んだ作業であったにも関わらず、スキル化されていなかった手順はありましたか？

- 検討した「スキルの改善候補」のうち、以下のような内容は追加・更新の対象外となります。そのような内容は除外してください
  - 一般的なプログラミング知識（リポジトリ固有ではない）
  - 一時的な対応や実験的な試み
  - 作業におけるメモ的な情報や未確認の情報
  - 細かすぎる手順や、限定的なケースにしか適用されない情報
  - コードベースを調査する作業コストを比較して、スキル化されていたとしても大きな効率化が見込めない情報

- 続いて、既に定義済みのスキルのうち、「スキルの改善候補」に関連がありそうなスキルの中身を一通り確認してください
  - 「スキルの改善候補」のうち、既にスキルとして記載されていた内容があった場合、それはその既存スキルの説明が不十分であった可能性があります。
     その場合、「スキルの説明を改善すべき」という「スキルの改善候補」としてまとめてください

- 残った「スキルの改善候補」について、以下の指針で、スキルの分類と、追加・更新の必要性の判断を行い、「スキルの改善対象」としてまとめてください
  - それぞれについて、以下のどれに当てはまるかを検討してください
    - なにか作業をする際の手順を提供するスキル：`procedure--` prefixを付けます
    - このアプリケーション・ドメインの固有の知識を提供するスキル：`domain--` prefixを付けます
    - 一般的な知識や、思考する際の価値観を提供するスキル：`knowledge--` prefixを付けます
  - それぞれについて、「既存スキルの改善」「新規スキルの追加」のどちらが適切かを判断してください
  - 新規スキルの追加が必要なものに関しては、そのスキル名（prefix付き）を考えて下さい
    - 特に機能に関するスキルの場合、システムで使われている機能名と一致する名前を使うようにしてください
    - スキル名に日本語は使わないでください。英単語をハイフンで繋いだ形式にしてください
      - 例: `domain--user-authentication`

- 追加・更新対象のスキルの中身を、以下の指針に従って考えて下さい
  - スキルの内容は、できるだけ本質的な情報に絞り、簡潔にまとめてください
  - 必要に応じてmermaid等を使用して、図解を追加することも有用です
  - スキルは少しずつ改善することを目指しているため、一度に大量の情報をスキル化する必要はありません
    - 特に新規に追加するスキルなどは、10行未満で済むような小さな内容でも全く問題ありません
  - スキルの分量が多くなってしまう場合も、1スキルあたり50行以内に収めるようにしてください
    - 分量が多くなってしまう場合は、重要な情報を優先的に記載したり、内容を分割して複数スキルにするなどの工夫をしてください

- 実際に追加・更新する作業を、以下の手順で行って下さい
  - スキルが置かれているディレクトリは、現在のリポジトリの `.claude/skills/` 配下です（ディレクトリが無い場合は作ってください）
  - 追加の場合、スキルファイルを作成し、以下のテンプレートに従って内容を記載してください
  - 更新の場合、既存スキルファイルの内容を更新してください
  - 変更内容のコミットはしないで下さい（ユーザーがスキルの修正に気づかずにPRに含めてしまうことを防ぐため）。コミットはユーザーの方で行います

テンプレート:
```
---
name: {スキル名（prefix付き）}
description: {そのスキルがどんな情報を提供するスキルなのかを簡潔に説明してください}
---

{スキルの内容を記載してください}
```

