---
description: 実装した機能の動作確認の計画と検証実行を行い、結果を記録する。
name: dev-step--verify-implementation
---

## 目的

実装した機能に対して、
- 検証項目の作成
- 開発環境における検証の実行
を行います。

## 手順

1. 確認観点を整理してください
2. 実装内容を把握し、`## 検証項目の作成基準` に従って、検証項目を作成してください
3. 作成した検証項目が問題ないか、ユーザーに確認をとってください
  - あなた(AI)に自律的に判断してほしいと依頼されていた場合、そのときの指示に従って確認の有無を判断してください
  - ただし、検証において外部サービスやシステムにアクセスする必要のある場合は必ずユーザーに確認を取ってください
4. 開発環境で検証項目の検証を実施してください
  - 開発環境で検証できない事柄に関しては不要です
5. 検証結果をユーザーに報告してください

## 検証項目の作成指針

前提として、正常系・異常系のどちらも、自動テストによってカバーされているという状況を想定しています。
そのためここで作成する検証項目は、念の為の最終確認としての役割が強いです。

- まず、動作確認を行うべきかどうかを検討します。
  以下のすべてを満たす変更の場合、「動作確認は不要」と判断してください
  - （アプリケーションコードの変更の場合）自動テストで十分にカバーされている
  - 些細な変更
  - ユーザー影響が無い箇所の変更

- 続いて、動作確認を行うべき場合、検証項目を検討します
  - 今回実装した内容を振り返り、`変更を加えた機能`を列挙します
    - 変更を加えた機能が1つだけであれば1つだけでOKです
    - ここでいう機能の単位は、「◯◯機能の✕✕操作」のような粒度を想定しています
  - 列挙した機能ごとに、`変更を加えた仕様`を列挙してください
    - ここまでで、`変更を加えた機能 × 変更を加えた仕様`の数だけの、1つ以上の組み合わせができていると思います
  - `変更を加えた機能 × 変更を加えた仕様` の組み合わせごとに、正常系と異常系を検証したいです
    - このまでで、`変更を加えた機能 × 変更を加えた仕様 × {正常系,異常系}` の組み合わせができていると思います
  - 出来上がった `変更を加えた機能 × 変更を加えた仕様 × {正常系,異常系}` の集合について、
    特に正常系において被りがある場合は統合して、組み合わせの個数を減らして下さい
  - 最終的に出来上がった `変更を加えた機能 × 変更を加えた仕様 × {正常系,異常系}` の組み合わせごとに1つ、検証項目を作成してください

## 検証項目の作成例

次のように、検証対象と検証内容を明確に記載し、チェックボックス形式で整理してください。

```
- [ ] ◯◯機能の✕✕操作において、...を...した場合、正常に...されること (正常系)
```

検証対象が同じ場合、箇条書きのネストを深くするなどして、簡潔にまとめてください。

```
- ◯◯機能の✕✕操作において以下を確認します
  - [ ] ...を...した場合、正常に...されること (正常系)
  - [ ] ...を...した場合、...に関するエラーメッセージが表示されること (異常系)
  - [ ] ...を...した場合、...が...されること (異常系)
```

## 検証の実行方法

以下の情報を参考に、開発環境での検証を実施してください。

- 環境の準備・操作について
  - ローカルでRailsサーバーを起動する（`rails server` など）
  - フロントエンドのビルドやサーバーを起動する（`npm run dev` など）
  - 必要なサービス（データベース、Redis等）が起動していることを確認する
  - サーバー立ち上げやビルドの手順がわからない場合は、リポジトリの CLAUDE.md や README.md 等のドキュメントを参照する
- ブラウザ操作について
  - Playwrightを使用してブラウザを起動し、実際のユーザー操作をシミュレートする
  - 画面の表示、ボタンのクリック、フォーム入力などを実際に操作して確認する
  - 必要に応じてスクリーンショットを取得する
- 検証完了後の後片付けについて
  - すべての確認項目の検証が完了したら、起動したサーバーやプロセスを停止する
  - 確認項目ごとに起動・停止を繰り返すのではなく、一連の検証が終わってから停止する
