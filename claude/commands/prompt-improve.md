$ARGUMENTS

# プロンプト改善コマンド
プロンプトを整理・強化し、再利用しやすい形で出力します。まず不足情報があれば質問し、十分な情報が揃っていれば改善案を提示してください。

## 1. 前提の整理（不足があれば簡潔に質問）
- 目的・ゴール: 何を達成したいか / 成功条件は何か
- 出力要求: 形式（例: JSON/Markdown/コード）、長さ、口調
- 制約: 禁止事項、モデルやツールの前提、トークン/時間制約
- コンテキスト: 参照してよい資料・URL・ドメイン知識
- 例示: 期待する入出力例（few-shot）、評価観点
- 安全・品質: 検証方法、根拠提示の要否

## 2. 改善方針
- 明示的に書く: 役割、手順、優先順位、禁止事項を具体的に記述する（Anthropic “Be explicit”）
- 十分な文脈: なぜその振る舞いが必要かも添えて動機付けする（Anthropic “Add context”）
- 構造化: `# Identity / # Instructions / # Context / # Examples / # Output format` のように区切り、XMLタグやMarkdownで境界を明示する（OpenAI Markdown/XML推奨）
- 例で示す: 少なくとも1つの入出力例を載せ、入力揺れへの許容範囲も書く（OpenAI few-shot推奨, Microsoft few-shot推奨）
- フォーマット指定: 期待する出力スキーマや禁止形式を明記し、必要ならダミー値を入れる（Microsoft: instructions + cues + primary contentを区別）
- 検証とガード: 禁止行動、根拠提示、曖昧時の問い合わせ手順、タイムアウト時の振る舞いを書く

## 3. 出力
1. **ヒアリング結果/不足**: 追加で確認すべき点があれば箇条書き。なければ「不足なし」。
2. **改善後プロンプト案**: 以下の骨子で記述
   ```
   # Identity
   あなたは...（役割・スタイル）

   # Instructions
   - 目的: ...
   - 手順: 1) ..., 2) ...
   - 禁止事項: ...

   # Context
   <context source=\"...\">
   必要な背景/データ/リンク
   </context>

   # Examples
   <example input=\"...\">期待する出力...</example>

   # Output format
   - 形式: ...
   - 長さ/詳細度: ...
   - 根拠/出典の扱い: ...
   - 不明点があれば: ...
   ```
3. **チェックリスト**: 明示性、文脈、例示、フォーマット指定、検証手順の5点を満たすか○/△/×で簡潔に評価
