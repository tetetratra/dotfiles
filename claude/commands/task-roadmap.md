$1

現在のタスクの進捗状況を確認し、次に実施すべき作業を明確化します。

## 出力物

このコマンドでは、以下の3つのカテゴリで出力を行います：

- **返答**: 作業完了の報告や調査結果の要約など、フロー型の出力（会話として返す）
- **成果物**: ドキュメントや整理結果など、ストック型の出力（後から参照できる形で返す）
  - 成果物の保存先について指示がある場合は、指定された箇所に書き込む
  - 指示がない場合は、通常のレスポンスとして返答の後に続けて出力する
- **作業**: システムへの変更や実行など、副作用を伴う作業

本コマンドの出力：

**返答**: 整理結果を簡潔に報告する

**成果物**: 進捗状況の整理結果をレスポンスとして出力する

**作業**: なし（状況確認のみ）

## 目的

- 現在までに完了したステップを整理する
- 現在進行中のステップを明確にする
- 今後見込みのステップを洗い出し、優先順位を明確にする
- タスク全体の進捗状況を可視化する

## 入力で確認すること

- 対象タスクのリンクと概要
- これまでに作成したドキュメント（設計書、実装計画等）
- 既存のコードやコミット履歴
- タスクの目標と達成条件
- 情報が不足している場合は、着手前に質問を箇条書きする

## 標準的な作業順序について

下記に、作業種別ごとの標準的な作業順序について例を示します。

タスクの性質に応じて実行順序が異なります。
すべて必須ではなく、状況に応じて入れ替え・省略可能を検討してください。

基本的には task-xxx という名前で提供されているスキルと1対1で対応するように作業を分割してください。

### 1. 重厚・曖昧な開発タスク

- 背景調査（task-background）
- 前提知識の収集・整理（task-research）
- 条件の明確化（task-conditions）
- 分析の観点の明確化（task-viewpoints）
- 解決方針の検討（task-solution）
- 技術設計（task-architecture）
- 実装計画（task-implementation-planning）
- 実装実行（task-implementation-execute）
- 検証計画（task-verification-planning）
- 検証実行（task-verification-execute）
- PR作成（task-write-pr）
- PR補足情報追加（task-pr-annotate、任意）
- PRフォローアップ（task-pr-followup）

### 2. 軽微な修正タスク

- 実装実行（task-implementation-execute）
- 検証計画（task-verification-planning）
- 検証実行（task-verification-execute）
- PR作成（task-write-pr）
- PRフォローアップ（task-pr-followup）

### 3. 既存コードの理解・調査タスク

- 前提知識の収集・整理（task-research） または 機能の全体像把握（investigation） または 特定処理のフロー追跡（flow-trace）

### 4. バグ修正・エラー調査タスク

- 背景調査（task-background）
- エラー再現・原因特定（flow-traceなど）
- 解決方針の検討（task-solution）
- 実装実行（task-implementation-execute）
- 検証実行（task-verification-execute）
- PR作成（task-write-pr）
- PRフォローアップ（task-pr-followup）

### 5. リファクタリングタスク

- 背景調査（task-background）
- 技術設計（task-architecture、大規模な場合のみ）
- 既存テストの確認
- 実装実行（task-implementation-execute）
- 検証実行（task-verification-execute）
- PR作成（task-write-pr）
- PR補足情報追加（task-pr-annotate、任意）
- PRフォローアップ（task-pr-followup）

## 手順

### 1. 現状の把握

以下を確認して、どこまで作業が進んでいるかを把握:

- タスクの目標と達成条件
- 作成済みのドキュメント（背景情報、解決方針、前提条件、技術アーキテクチャ、実装計画等）
- 実装の進捗状況
  - コミット履歴
  - マイルストーンの達成状況
  - テストの状況
- レビューの状況（PR作成済みか、レビュー待ちか等）
- 利用可能なスキル一覧を確認し、どのような作業が可能かを把握する

### 2. 完了したステップの整理

以下の観点で完了したステップを列挙（使用したスキル名も記載）:

- どのステップが完了しているか（背景調査、方針案策定、設計、実装等）
- ドキュメントの作成状況
- コードの実装状況
- テストやレビューの状況

### 3. 現在のステップの特定

現在進行中のステップを特定（使用中のスキル名も記載）:

- どのステップに取り組んでいるか
- そのステップで何を行っているか
- 完了までに残っている作業は何か
- ちょうどステップの切れ目の場合（あるステップが完了して次のステップに入る前）は「なし」と記載する

### 4. 今後見込みのステップの洗い出し

以下の観点で今後見込みのステップを洗い出す（使用予定のスキル名も記載）:

- 未着手のステップはあるか
- どの順序で進めるべきか
- 各ステップで何を行うか

**重要な原則**:
- **1つのステップで2つのことをしない**
  - 悪い例: 「背景調査と既存実装の理解」「型差異の修正と検証」
  - 良い例: 「背景調査」「既存実装の理解」を別々のステップに分ける

## 成果物例

```
## タスク進捗状況

**完了したステップ**
- 背景調査（task-backgroundスキル）
- 解決方針の検討（task-solutionスキル）
- 技術設計（task-architectureスキル）

**現在のステップ**
- 実装計画の作成（task-implementation-planningスキル使用中）

**今後見込みのステップ**
- 実装の実行（task-implementation-executeスキル使用予定）
- 動作確認の計画（task-verification-planningスキル使用予定）
- 動作確認の実行（task-verification-executeスキル使用予定）
- PR作成（task-write-prスキル使用予定）
- PR補足情報追加（task-pr-annotateスキル使用予定、任意）
- PRフォローアップ（task-pr-followupスキル使用予定）
```

ステップの切れ目の場合の例：
```
## タスク進捗状況

**完了したステップ**
- 背景調査（task-backgroundスキル）
- 解決方針の検討（task-solutionスキル）
- 技術設計（task-architectureスキル）
- 実装計画の作成（task-implementation-planningスキル）

**現在のステップ**
なし

**今後見込みのステップ**
- 実装の実行（task-implementation-executeスキル使用予定）
- 動作確認の計画（task-verification-planningスキル使用予定）
- 動作確認の実行（task-verification-executeスキル使用予定）
- PR作成（task-write-prスキル使用予定）
- PR補足情報追加（task-pr-annotateスキル使用予定、任意）
- PRフォローアップ（task-pr-followupスキル使用予定）
```

## チェックポイント

返答：
- [ ] 整理結果を簡潔に報告しているか

成果物：
- [ ] 進捗状況の整理結果をレスポンスとして返しているか
- [ ] 現在の進捗状況を正しく把握できているか
- [ ] 完了したステップに漏れはないか
- [ ] 現在のステップが明確に特定されているか（ステップの切れ目の場合は「なし」と記載しているか）
- [ ] 今後見込みのステップがすべて洗い出されているか
- [ ] 各ステップに使用するスキル名が記載されているか
- [ ] ステップの粒度が適切か（背景調査、方針案策定、設計、実装程度の規模感で、1つあたり1スキル程度）
- [ ] 1つのステップで2つのことをしていないか（「AとB」のように複数のことを1つにまとめていないか）
- [ ] シンプルなタスクの場合、1ステップでも適切に表現されているか
