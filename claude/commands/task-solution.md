$1

タスクに対する解決方針を体系的に検討し、実装アプローチを決定します。

**注意**
このコマンドは技術的な詳細設計を行うものではありません。
高レベルな解決アプローチと大まかな作業フローを整理することが目的です。
詳細な技術設計は以降のステップで行います。

## 目的

- タスクの解決アプローチを複数案で比較し、推奨方針を短く決める
- 高レベルな対応方針と作業フローを共有し、詳細設計への接続を明確にする

## 入力で確認すること

- 対象タスクのリンクと概要（Notion/GitHub Issue 等）
- 目的特有の制約・要件（ビジネス/技術/性能/運用/リリース条件など）
- なぜ今対応するか（優先度・リスク・デッドライン）
- 成功条件や非機能要件（SLO/SLI、可用性、セキュリティ、コストなど）
- 関連ドキュメント・過去議論・類似事例・ステークホルダー
- 情報不足があれば、質問を列挙するか、仮置き前提として明示する

## 出力の要件

- `## 対応方針` セクションにそのまま貼れる本文のみを出力
- 構成: `観点` → `方針案`（1案以上）→ `推奨案` の順で見出し付き
- 各案は「方針（方向性/手段）」「メリット」「デメリット」を箇条書きで簡潔に
- 技術詳細や手順書には踏み込まず、方向性レベルで記述
- 案が1つの場合はメリデメを記載し、その上で推奨とする
- 初出のみ関連資料や技術をリンクする

## 手順

1. **観点整理**: そのタスク固有の制約・要件・優先順位を箇条書きで洗い出す（一般論は書かない）
2. **方針案の提示**: 実現可能なアプローチを1〜複数案挙げ、方向性レベルで説明する
3. **メリデメ整理**: 案ごとに差別化できるメリット・デメリットを短く列挙し、トレードオフを示す
4. **推奨案決定**: 推奨案を明示し、その理由を簡潔に述べる（条件付き可）
5. **書式整形**: `## 対応方針` 配下に「観点」「方針案」「推奨案」を配置し、箇条書きで読みやすくする
6. **自己チェック**: 下記チェックリストで冗長さと妥当性、リンクの有無、粒度を確認する

## 出力例

```
## 対応方針

### 観点
- セキュリティレベルが高い（金融系のため厳格）
- レガシーシステムとの連携が必須
- モバイルアプリ経由の利用が多い
- 無停止移行が求められる

### 方針案

#### 案1: OAuth 2.0 + JWT
- 方針: 新規認証基盤を構築し、APIゲートウェイ経由でレガシー連携。段階移行を前提。
- メリット: モバイル対応が容易、スケーラブル、モダンな実装。
- デメリット: レガシー連携の改修コストと学習コストがかかる。

#### 案2: SAML
- 方針: エンタープライズ向け基盤を導入し、既存認証を置き換え、SSOで統合。
- メリット: エンタープライズ標準で互換性が高く、移行リスクが低い。
- デメリット: モバイル実装が複雑、技術制約が多い。

### 推奨案
案1 (OAuth + JWT) を推奨。将来性とモバイル対応を優先しつつ、金融要件はJWTの適切な設定で満たせる。レガシー改修コストはあるが長期的な保守性・拡張性で優位。
```

## チェックポイント
- [ ] タスク固有の観点に絞れているか（一般論に流れていないか）
- [ ] 技術/ビジネス/運用制約が整理されているか
- [ ] 案ごとの差分とトレードオフが明確か
- [ ] 技術詳細に踏み込みすぎず、方向性レベルに留まっているか
- [ ] 推奨案と理由が簡潔に示されているか
- [ ] 参考資料や技術を初出でリンクしているか
- [ ] `## 対応方針` としてそのまま貼れる体裁か
