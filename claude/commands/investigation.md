ultrathink

## 作業手順

### 1. 調査方法
#### 1.1 初期調査
- [ ] 引数として与えられた機能について調査を開始
- [ ] その機能に関連した全てのファイルを調査
- [ ] 各ファイルの説明を記載

#### 1.2 内容チェック
- [ ] 機能に関する記憶をまっ更な状態でリセット
- [ ] 文書を上から読み直す
- [ ] 説明の無い概念が唐突に出てきていないかチェック

#### 1.3 情報の絞り込み
- [ ] 再度読み返し、本当に重要な情報のみを残す
- [ ] 以下の不要な情報を削除：
  - [ ] コードを読めばすぐに意味や内容がわかるもの
  - [ ] 枝葉の情報
  - [ ] 名前から機能を類推できるもの

### 2. 文体の統一
- [ ] すべての文章をですます調で統一
- [ ] 箇条書きの末尾に「。」をつけない
- [ ] 複雑な熟語を使わず平易な日本語で説明
- [ ] 一文が長すぎる場合は適宜改行・分割
- [ ] 句点ごとに改行を入れる
- [ ] 文書の過剰な装飾を削除（過度な大文字の多用を避ける）

### 3. 形式の調整
- [ ] 指定テンプレートから不足・不要な欄を自主的に判断
- [ ] 機能によってテーブルが無い場合は該当項目をスキップ
- [ ] 1つの機能について100行以内に調整
- [ ] 指定のテンプレート形式で出力
- [ ] tmp/investigations/(機能名).md にファイルを保存


以下はテンプレートです

---

# (機能名)

## 主な機能
(この機能が提供する一番重要な機能を文章でに説明してください。
「どうやるか」ではなく「何をするか」にフォーカスして説明をしてください)

- (補足の説明を含めて箇条書きで記載)
- ...
- ...

## 仕組み
(この機能がどのように実現されているかを説明)
(一般的な技術自体の仕組みについては説明不要)
(この機能特有の仕組みがあれば説明する)

## 用語
- xxx: ...
- yyy: ...

(この機能独自の用語について、その説明を記載してください。
一般的な技術の用語の説明は**一切**不要です！
また、コード内の定数のような、コードを読めばわかるようなものも不要です)

## コード構成

- app/
  - controllers/
    - xxx_controller.rb
      - (このクラスがいつ、どのような用途で使われるかを説明)
      - #show
        - (生えているメソッドは全て列挙する必要はありません。重要だと判断したメソッドのみ列挙してください)
        - (説明が必要そうなメソッドであれば説明を完結に記載してください。名前から類推できるような機能であれば説明は不要です)
        - (文がごちゃつくので、引数のを書いたりその説明をしたりする必要はありません)
  - models/
    - ...
  - ...

## テーブル構造
- xxx テーブル
  - (このテーブルがいつ、どのような用途で使われるかを説明)
  - (zzz テーブルと ooo な関係、などの説明もあれば記載)
  - (ユーザーデータのテーブルなのか、マスタデータのテーブルなのか、ログデータのテーブルなのか、などの説明も、テーブル名から判断できなさそうなテーブル名であれば説明を記載)
- yyy テーブル

(この機能そのもののテーブルではないテーブル (ユーザーテーブルなど) については説明不要)

## インターフェース
(この機能を使うユーザーや管理者やエンジニアが、どのような経路や手順でこの機能を利用するかを記載)


