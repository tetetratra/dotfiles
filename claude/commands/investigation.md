ultrathink

引数として与えられた機能に関する調査を行い、その結果をまとめてください。

すべての文章はですます調で書いてください。
箇条書きの末尾の文に「。」をつける必要はありません。

以下のような形式で出力し、tmp/investigations/(機能名).md にファイルを保存してください。

下記例では...を使い省略していますが、実際にはその機能に関連した全てのファイルとその説明を記載してください。

機能によってはテーブルが無いような機能もありますし、指示通りのテンプレに完璧に必要はありません。
不足している欄・不要な欄を自主的に判断して結果をまとめてください。

書き終えたら、この機能に関する記憶がまっ更な状態で書いた文書を上から読み直して、説明の無い概念が唐突に出てきていないかチェックしてください。

そのチェックを終えたら再度読み返し、本当に重要な情報のみを残してほかは削除し、1つの機能について100行以内になるように調整してください。
たとえば、
- コードを読めばすぐに意味や内容がわかるようなもの
- 枝葉の情報
- 名前から機能を類推できるようなもの
などは一切不要です。

最後のチェックとして、文書の過剰な装飾は不要です。過度な大文字の多用などは避けてください。
また、複雑な熟語は使わず、平易な日本語で説明してください。
そして、一文が長すぎる場合は、適宜改行・分割し、句点ごとに改行を入れてください。

---

# (機能名)

## 主な機能
(この機能が提供する一番重要な機能を文章でに説明してください。
「どうやるか」ではなく「何をするか」にフォーカスして説明をしてください)

- (補足の説明を含めて箇条書きで記載)
- ...
- ...

## 仕組み
(この機能がどのように実現されているかを説明)
(一般的な技術自体の仕組みについては説明不要)
(この機能特有の仕組みがあれば説明する)

## 用語
- xxx: ...
- yyy: ...

(この機能独自の用語について、その説明を記載してください。
一般的な技術の用語の説明は**一切**不要です！
また、コード内の定数のような、コードを読めばわかるようなものも不要です)

## コード構成

- app/
  - controllers/
    - xxx_controller.rb
      - (このクラスがいつ、どのような用途で使われるかを説明)
      - #show
        - (生えているメソッドは全て列挙する必要はありません。重要だと判断したメソッドのみ列挙してください)
        - (説明が必要そうなメソッドであれば説明を完結に記載してください。名前から類推できるような機能であれば説明は不要です)
        - (文がごちゃつくので、引数のを書いたりその説明をしたりする必要はありません)
  - models/
    - ...
  - ...

## テーブル構造
- xxx テーブル
  - (このテーブルがいつ、どのような用途で使われるかを説明)
  - (zzz テーブルと ooo な関係、などの説明もあれば記載)
  - (ユーザーデータのテーブルなのか、マスタデータのテーブルなのか、ログデータのテーブルなのか、などの説明も、テーブル名から判断できなさそうなテーブル名であれば説明を記載)
- yyy テーブル

(この機能そのもののテーブルではないテーブル (ユーザーテーブルなど) については説明不要)

## インターフェース
(この機能を使うユーザーや管理者やエンジニアが、どのような経路や手順でこの機能を利用するかを記載)


